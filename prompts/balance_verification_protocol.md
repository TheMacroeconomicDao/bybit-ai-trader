# üîí –ü—Ä–æ—Ç–æ–∫–æ–ª –ü—Ä–æ–≤–µ—Ä–∫–∏ –ë–∞–ª–∞–Ω—Å–∞ –ü–µ—Ä–µ–¥ –°–¥–µ–ª–∫–æ–π

## –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–≠—Ç–æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª –û–ë–Ø–ó–ê–¢–ï–õ–ï–ù –ø–µ—Ä–µ–¥ –ö–ê–ñ–î–û–ô —Å–¥–µ–ª–∫–æ–π!**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ä–∞—Å—á—ë—Ç—É —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ä–∏—Å–∫—É –Ω–∞ —Å–¥–µ–ª–∫—É
- ‚ùå –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º —É–±—ã—Ç–∫–∞–º –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ position sizing

---

## –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ü–†–û–¢–û–ö–û–õ

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–∞–ª–∞–Ω—Å–∞ (–í–°–ï–ì–î–ê –ü–ï–†–í–´–ú!)

**–ü–µ—Ä–µ–¥ –õ–Æ–ë–´–ú —Ä–∞—Å—á—ë—Ç–æ–º –ø–æ–∑–∏—Ü–∏–∏:**

```python
# 1. –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
account_info = await get_account_info()

# 2. –ò–∑–≤–ª–µ—á—å —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
current_balance = account_info["balance"]["total"]

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
if current_balance <= 0:
    ERROR: "–ë–∞–ª–∞–Ω—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ —Ä–∞–≤–µ–Ω 0. –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é!"
    return None

# 4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
logger.info(f"‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å: ${current_balance:.2f}")
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ get_account_info:**
```json
{
  "balance": {
    "total": 126.77,
    "available": 126.77,
    "unified": {
      "total": 126.77,
      "available": 126.77
    }
  }
}
```

---

### –®–ê–ì 2: –†–∞—Å—á—ë—Ç –†–∏—Å–∫–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –†–ï–ê–õ–¨–ù–û–ì–û –±–∞–ª–∞–Ω—Å–∞)

**–§–æ—Ä–º—É–ª–∞:**
```
Risk Amount = Current Balance √ó Risk Percentage

–ü—Ä–∏–º–µ—Ä—ã:
- –ë–∞–ª–∞–Ω—Å $126.77, —Ä–∏—Å–∫ 1% ‚Üí $1.27
- –ë–∞–ª–∞–Ω—Å $126.77, —Ä–∏—Å–∫ 2% ‚Üí $2.54
- –ë–∞–ª–∞–Ω—Å $500, —Ä–∏—Å–∫ 1% ‚Üí $5.00
```

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π:**
- ‚ùå Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è ($30, $100, –∏ —Ç.–¥.)
- ‚ùå –°—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
- ‚ùå –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ –±–∞–ª–∞–Ω—Å–µ

**–ò–°–ü–û–õ–¨–ó–£–ô:**
- ‚úÖ –¢–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∏–∑ get_account_info()
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–¥–µ–ª–∫–∏

---

### –®–ê–ì 3: –†–∞—Å—á—ë—Ç –†–∞–∑–º–µ—Ä–∞ –ü–æ–∑–∏—Ü–∏–∏

**–§–æ—Ä–º—É–ª–∞:**
```
Position Size = Risk Amount / (Entry Price - Stop Loss Price)

–ü—Ä–∏–º–µ—Ä:
- Entry: $17.78
- Stop Loss: $17.75
- Risk Amount: $1.27 (1% –æ—Ç $126.77)
- Distance to SL: $0.03
- Position Size: $1.27 / $0.03 = 42.33 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
```

**–° —É—á—ë—Ç–æ–º –ø–ª–µ—á–∞:**
```
–î–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤ —Å –ø–ª–µ—á–æ–º 10x:
- Position Value = Position Size √ó Entry Price = 42.33 √ó $17.78 = $752.63
- Required Margin = Position Value / Leverage = $752.63 / 10 = $75.26
- –ü—Ä–æ–≤–µ—Ä—å: Available Balance >= Required Margin
```

---

### –®–ê–ì 4: –í–∞–ª–∏–¥–∞—Ü–∏—è –ü–µ—Ä–µ–¥ –û—Ç–∫—Ä—ã—Ç–∏–µ–º

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

```python
# 1. –ë–∞–ª–∞–Ω—Å –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –º–∞—Ä–∂–∏?
if available_balance < required_margin:
    ERROR: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏"
    return None

# 2. –†–∏—Å–∫ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã?
if risk_amount > (current_balance * 0.02):  # –ú–∞–∫—Å–∏–º—É–º 2%
    ERROR: "–†–∏—Å–∫ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç 2%"
    return None

# 3. –û–±—â–∏–π —Ä–∏—Å–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è?
open_positions = get_open_positions()
total_risk = calculate_total_portfolio_risk(open_positions)
if (total_risk + risk_amount) > (current_balance * 0.05):  # –ú–∞–∫—Å–∏–º—É–º 5%
    ERROR: "–û–±—â–∏–π —Ä–∏—Å–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø—Ä–µ–≤—ã—Å–∏—Ç 5%"
    return None
```

---

## –ü–†–ò–ú–ï–†–´ –ü–†–ê–í–ò–õ–¨–ù–û–ì–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:

```
1. get_account_info() ‚Üí –ë–∞–ª–∞–Ω—Å: $126.77
2. Risk = $126.77 √ó 0.01 = $1.27
3. Position Size = $1.27 / $0.03 = 42.33 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–∂–∏: $75.26 < $126.77 ‚úÖ
5. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏
```

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:

```
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ hardcoded $30
2. Risk = $30 √ó 0.01 = $0.30
3. Position Size = $0.30 / $0.03 = 10 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
4. –ü–æ–∑–∏—Ü–∏—è —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∞—è –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ $126.77!
```

---

## –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –ü–†–û–¶–ï–°–° –ê–ù–ê–õ–ò–ó–ê

### –í –ü—Ä–æ—Ç–æ–∫–æ–ª–µ –ê–Ω–∞–ª–∏–∑–∞ –†—ã–Ω–∫–∞:

**–î–æ–±–∞–≤–∏—Ç—å –®–ê–ì 0 (–ü–ï–†–ï–î –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º):**

```
–®–ê–ì 0: –ü–†–û–í–ï–†–ö–ê –ë–ê–õ–ê–ù–°–ê (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

1. get_account_info()
2. –ò–∑–≤–ª–µ—á—å current_balance
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å—á—ë—Ç–æ–≤
```

### –í –ü—Ä–æ—Ç–æ–∫–æ–ª–µ –û—Ç–∫—Ä—ã—Ç–∏—è –ü–æ–∑–∏—Ü–∏–∏:

**–ü–µ—Ä–µ–¥ place_order:**

```
1. get_account_info() ‚Üí current_balance
2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å risk_amount = current_balance √ó risk_percent
3. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å position_size = risk_amount / (entry - sl)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä–∂—É
5. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ª–∏–º–∏—Ç–æ–≤
6. –¢–û–õ–¨–ö–û –ü–û–°–õ–ï –≠–¢–û–ì–û ‚Üí place_order()
```

---

## –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö

### –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

```
1. –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é
2. –°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
   "‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞.
   –ü–æ–∑–∏—Ü–∏—è –ù–ï –æ—Ç–∫—Ä—ã—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API."
3. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É
```

### –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω–∏–ª—Å—è:

```
–ï—Å–ª–∏ –º–µ–∂–¥—É –∞–Ω–∞–ª–∏–∑–æ–º –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –±–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω–∏–ª—Å—è:
1. –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å position_size —Å –Ω–æ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º
2. –ï—Å–ª–∏ –Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä < –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ ‚Üí –æ—Ç–º–µ–Ω–∏—Ç—å —Å–¥–µ–ª–∫—É
3. –°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏
```

---

## –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–ê–ñ–î–û–ô –°–î–ï–õ–ö–û–ô

```
[ ] 1. –í—ã–∑–≤–∞–Ω get_account_info()
[ ] 2. –ò–∑–≤–ª–µ—á—ë–Ω current_balance
[ ] 3. current_balance > 0
[ ] 4. –†–∞—Å—Å—á–∏—Ç–∞–Ω risk_amount –Ω–∞ –æ—Å–Ω–æ–≤–µ current_balance
[ ] 5. –†–∞—Å—Å—á–∏—Ç–∞–Ω position_size
[ ] 6. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å –º–∞—Ä–∂–∏
[ ] 7. –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞ (2% –Ω–∞ —Å–¥–µ–ª–∫—É, 5% –ø–æ—Ä—Ç—Ñ–µ–ª—å)
[ ] 8. –í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
[ ] 9. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ –≤—ã–≤–æ–¥–µ
```

**–ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω –ø—É–Ω–∫—Ç –ù–ï–¢ ‚Üí –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é!**

---

## –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –ü–†–û–ó–†–ê–ß–ù–û–°–¢–¨

**–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**

```
üí∞ –¢–ï–ö–£–©–ò–ô –ë–ê–õ–ê–ù–°: $126.77
üìä –†–ê–°–ß–Å–¢ –†–ò–°–ö–ê:
   ‚Ä¢ –ë–∞–ª–∞–Ω—Å: $126.77
   ‚Ä¢ –†–∏—Å–∫: 1% = $1.27
   ‚Ä¢ Entry: $17.78
   ‚Ä¢ SL: $17.75
   ‚Ä¢ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ SL: $0.03
   ‚Ä¢ –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏: 42.33 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
   ‚Ä¢ –¢—Ä–µ–±—É–µ–º–∞—è –º–∞—Ä–∂–∞: $75.26 (10x leverage)
   ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ: $126.77 ‚úÖ
```

---

## –§–ò–ù–ê–õ–¨–ù–û–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï

> **–ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–π –±–∞–ª–∞–Ω—Å.**
> **–í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π –±–∞–ª–∞–Ω—Å.**
> **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å.**

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞!

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-18  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

