# üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–∏–ø–∞–º —Å—á–µ—Ç–æ–≤ Bybit

## üéØ –û–±–∑–æ—Ä

Bybit –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å API.

---

## üìã –¢–∏–ø—ã —Å—á–µ—Ç–æ–≤

### 1. **SPOT** (–°–ø–æ—Ç-—Å—á–µ—Ç)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—Ä–≥–æ–≤–ª—è —Å–ø–æ—Ç-–∞–∫—Ç–∏–≤–∞–º–∏ (–ø–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** `category="spot"` –≤ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- **accountType:** `"SPOT"` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –±–∞–ª–∞–Ω—Å–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –°—Ä–µ–¥—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏
  - –ù–µ—Ç –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
  - –ù–µ—Ç –ª–∏–≤–µ—Ä–µ–¥–∂–∞

### 2. **CONTRACT** (–î–µ—Ä–∏–≤–∞—Ç–∏–≤–Ω—ã–π —Å—á–µ—Ç)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—Ä–≥–æ–≤–ª—è —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ –∏ –ø–µ—Ä–ø–µ—Ç—É–∞–ª–∞–º–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** `category="linear"` –∏–ª–∏ `category="inverse"` –≤ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- **accountType:** `"CONTRACT"` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –±–∞–ª–∞–Ω—Å–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–∏–≤–µ—Ä–µ–¥–∂–∞
  - –û—Ç–¥–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –æ—Ç —Å–ø–æ—Ç-—Å—á–µ—Ç–∞

### 3. **UNIFIED** (–û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Å—á–µ—Ç / UTA)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Unified Trading Account - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **accountType:** `"UNIFIED"` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –±–∞–ª–∞–Ω—Å–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ï–¥–∏–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Portfolio Margin Mode
  - –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏

---

## üîó –°–≤—è–∑—å –º–µ–∂–¥—É category –∏ accountType

### –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:

| category | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π accountType | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π accountType |
|----------|---------------------------|----------------------------|
| `spot` | `SPOT` | `UNIFIED` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω UTA) |
| `linear` | `UNIFIED` (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ) –∏–ª–∏ `CONTRACT` | `CONTRACT` (Classic Account) |
| `inverse` | `UNIFIED` (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ) –∏–ª–∏ `CONTRACT` | `CONTRACT` (Classic Account) |

### –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:

1. **–î–ª—è spot —Ç–æ—Ä–≥–æ–≤–ª–∏:**
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º `SPOT` (Classic Account)
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–±—É–µ–º `UNIFIED` (UTA —Ä–µ–∂–∏–º)

2. **–î–ª—è futures —Ç–æ—Ä–≥–æ–≤–ª–∏ (linear/inverse):**
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º `UNIFIED` (UTA —Ä–µ–∂–∏–º - –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–±—É–µ–º `CONTRACT` (Classic Account)

3. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —Ç–∏–ø—ã —Å—á–µ—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

---

## üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤

–î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ API –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ —Å TTL (Time To Live).

### BalanceCache

–ö–ª–∞—Å—Å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º:

```python
from trading_operations import BalanceCache, get_balance_cache

# –ü–æ–ª—É—á–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫—ç—à–∞
cache = get_balance_cache()

# –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º TTL
cache = BalanceCache(ttl_seconds=60)  # 60 —Å–µ–∫—É–Ω–¥

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à
cache.set("SPOT", {"total": 30.0, "available": 30.0, "success": True}, "USDT")

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑ –∫—ç—à–∞
data = cache.get("SPOT", "USDT")

# –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à
cache.invalidate("SPOT", "USDT")  # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –º–æ–Ω–µ—Ç–∞
cache.invalidate("SPOT")  # –í—Å–µ –º–æ–Ω–µ—Ç—ã –¥–ª—è SPOT
cache.clear()  # –í–µ—Å—å –∫—ç—à
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è

–ö—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

- –ü–æ—Å–ª–µ `place_order()` - –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π accountType
- –ü–æ—Å–ª–µ `close_position()` - –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –∑–∞–∫—Ä—ã—Ç–æ–π –º–æ–Ω–µ—Ç—ã

### –†—É—á–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è

```python
from trading_operations import TradingOperations

trading_ops = TradingOperations(api_key="...", api_secret="...")

# –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à –ø–æ—Å–ª–µ —Ç–æ—Ä–≥–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
trading_ops.invalidate_balance_cache(account_type="SPOT", coin="USDT")
trading_ops.invalidate_balance_cache(account_type="SPOT")  # –í—Å–µ –º–æ–Ω–µ—Ç—ã
trading_ops.invalidate_balance_cache()  # –í–µ—Å—å –∫—ç—à
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TTL

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é TTL = 30 —Å–µ–∫—É–Ω–¥. –≠—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è:
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è TTL —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫—ç—à–∞:

```python
from trading_operations import BalanceCache

# –ö—ç—à —Å TTL 60 —Å–µ–∫—É–Ω–¥
cache = BalanceCache(ttl_seconds=60)
```

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### `get_account_type_for_category(category, prefer_unified=True)`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π accountType –¥–ª—è category.

```python
from trading_operations import get_account_type_for_category

# –î–ª—è spot
account_type = get_account_type_for_category("spot", prefer_unified=False)
# –í–µ—Ä–Ω–µ—Ç: "SPOT"

account_type = get_account_type_for_category("spot", prefer_unified=True)
# –í–µ—Ä–Ω–µ—Ç: "UNIFIED"

# –î–ª—è futures
account_type = get_account_type_for_category("linear", prefer_unified=True)
# –í–µ—Ä–Ω–µ—Ç: "UNIFIED"

account_type = get_account_type_for_category("linear", prefer_unified=False)
# –í–µ—Ä–Ω–µ—Ç: "CONTRACT"
```

#### `get_all_account_balances(session, coin=None, use_cache=True, cache=None)`

–ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å—ã —Å–æ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

```python
from trading_operations import get_all_account_balances

# –° –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
balances = get_all_account_balances(trading_ops.session, coin="USDT")

# –ë–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
balances = get_all_account_balances(trading_ops.session, coin="USDT", use_cache=False)

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫—ç—à–µ–º
from trading_operations import BalanceCache
custom_cache = BalanceCache(ttl_seconds=60)
balances = get_all_account_balances(
    trading_ops.session, 
    coin="USDT", 
    use_cache=True,
    cache=custom_cache
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
{
    "spot": {
        "total": 30.0,
        "available": 30.0,
        "success": True
    },
    "contract": {
        "total": 0.0,
        "available": 0.0,
        "success": False
    },
    "unified": {
        "total": 0.0,
        "available": 0.0,
        "success": False
    },
    "total": 30.0,      # –°—É–º–º–∞ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
    "available": 30.0   # –°—É–º–º–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
}
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è spot —Ç–æ—Ä–≥–æ–≤–ª–∏

```python
# –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (—Ç–æ–ª—å–∫–æ UNIFIED)
wallet_response = session.get_wallet_balance(accountType="UNIFIED")

# –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤)
from trading_operations import get_all_account_balances
all_balances = get_all_account_balances(session, coin="USDT")

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–ª–∞–Ω—Å —Å–æ SPOT —Å—á–µ—Ç–∞
spot_balance = all_balances["spot"]["available"]
```

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞–∫—Ä—ã—Ç–∏–µ spot –ø–æ–∑–∏—Ü–∏–∏

```python
# –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç SPOT, –∑–∞—Ç–µ–º UNIFIED, –∑–∞—Ç–µ–º CONTRACT
result = await trading_ops.close_position(
    symbol="BTCUSDT",
    category="spot",
    reason="Take profit"
)
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ

```python
# get_account_info —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–ª–∞–Ω—Å—ã –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤
account_info = await call_tool("get_account_info", {})

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:
{
    "balance": {
        "spot": {"total": 30.0, "available": 30.0, "success": True},
        "contract": {"total": 0.0, "available": 0.0, "success": False},
        "unified": {"total": 0.0, "available": 0.0, "success": False},
        "total": 30.0,
        "available": 30.0,
        "used_margin": 0.0,
        "unrealized_pnl": 0.0
    },
    "positions": [],
    "risk_metrics": {...}
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. Classic Account vs Unified Trading Account (UTA)

- **Classic Account:** –†–∞–∑–¥–µ–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞ (SPOT –∏ CONTRACT)
- **UTA:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Å—á–µ—Ç (UNIFIED –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞

**–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ —Ç–∏–ø—ã —Å—á–µ—Ç–æ–≤**, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –≤ —Ç–∏–ø–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```python
# ‚ùå –ü–ª–æ—Ö–æ - —Ç–æ–ª—å–∫–æ UNIFIED
wallet_response = session.get_wallet_balance(accountType="UNIFIED")

# ‚úÖ –•–æ—Ä–æ—à–æ - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
all_balances = get_all_account_balances(session, coin="USDT")
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∫ –æ–¥–Ω–æ–º—É —Ç–∏–ø—É —Å—á–µ—Ç–∞ –Ω–µ —É–¥–∞–ª—Å—è, —ç—Ç–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤:

```python
account_types = ["SPOT", "UNIFIED", "CONTRACT"]
for account_type in account_types:
    try:
        response = session.get_wallet_balance(accountType=account_type, coin="USDT")
        if response.get("retCode") == 0:
            # –ù–∞—à–ª–∏ –±–∞–ª–∞–Ω—Å!
            break
    except Exception as e:
        # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
        continue
```

### 4. –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤

–ï—Å–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—á–µ—Ç–∞–º–∏, —Å—É–º–º–∏—Ä—É–π—Ç–µ –∏—Ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞:

```python
total_balance = (
    balances["spot"]["total"] +
    balances["contract"]["total"] +
    balances["unified"]["total"]
)
```

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞:

```python
logger.info(f"Successfully retrieved balance from {account_type} account")
logger.debug(f"Failed to get balance from {account_type}: {e}")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ `success` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö:

```python
if balances["spot"]["success"]:
    print(f"SPOT balance: {balances['spot']['available']}")
else:
    print("SPOT account not available or empty")
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ Bybit:

- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_all_account_balances()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ —Ç–∏–ø—ã —Å—á–µ—Ç–æ–≤ (SPOT, CONTRACT, UNIFIED)
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_account_type_for_category()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ —Å—á–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—É—Å—Ç
- [ ] –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
- [ ] –°—É–º–º–∏—Ä—É–π—Ç–µ –±–∞–ª–∞–Ω—Å—ã, –µ—Å–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
- [ ] –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –±–∞–ª–∞–Ω—Å–∞—Ö –ø–æ —Ç–∏–ø–∞–º —Å—á–µ—Ç–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ API –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –∫—ç—à –ø–æ—Å–ª–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ TTL –∫—ç—à–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞

### –ë—ã–ª–æ:
```python
# –¢–æ–ª—å–∫–æ UNIFIED
wallet_response = session.get_wallet_balance(accountType="UNIFIED")
```

### –°—Ç–∞–ª–æ:
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤
from trading_operations import get_all_account_balances
all_balances = get_all_account_balances(session, coin="USDT")
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Bybit API v5 Documentation](https://bybit-exchange.github.io/docs/v5/)
- [Unified Trading Account Guide](https://www.bybit.com/en/help-center/article/Introduction-to-Bybit-Unified-Trading-Account/)
- [Account Types Comparison](https://bybit-exchange.github.io/docs/v5/acct-mode)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024  
**–ê–≤—Ç–æ—Ä:** AI Trading Agent Team

