# ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –í–°–ï–• –§–£–ù–ö–¶–ò–ô

**–î–∞—Ç–∞:** 2025-01-12  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –§–£–ù–ö–¶–ò–ò –†–ï–ê–õ–ò–ó–û–í–ê–ù–´ –ò –ì–û–¢–û–í–´ –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

---

## üìä –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´

### ‚úÖ 1. Trading Operations (4/4)

#### ‚úÖ `place_order`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:296-314`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:666-715`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:37-165`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ `trading_operations.py` (symbol, side, quantity, price, leverage)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spot, linear, inverse
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` (required)
- `side` (Buy/Sell, required)
- `quantity` (required)
- `order_type` (Market/Limit, default: Market)
- `price` (optional, –¥–ª—è Limit)
- `stop_loss` (optional)
- `take_profit` (optional)
- `category` (spot/linear/inverse, default: spot)
- `leverage` (1-125, optional)

---

#### ‚úÖ `close_position`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:316-328`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:717-736`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:228-360`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spot (–ø—Ä–æ–¥–∞–∂–∞ –±–∞–ª–∞–Ω—Å–∞) –∏ futures (–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞–ª–∞–Ω—Å–∞ (availableToWithdraw > walletBalance)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` (required)
- `category` (default: linear)
- `reason` (default: "Manual close")

---

#### ‚úÖ `modify_position`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:330-343`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:738-758`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:362-504`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ `positionIdx` –∏–∑ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SL/TP (> 0)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` (required)
- `stop_loss` (optional, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ SL/TP)
- `take_profit` (optional, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ SL/TP)
- `category` (default: linear)

---

#### ‚úÖ `cancel_order`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:345-357`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:760-780`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:506-550`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è order_id –∏ symbol
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spot, linear, inverse
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `order_id` (required)
- `symbol` (required)
- `category` (default: spot)

---

### ‚úÖ 2. Monitoring (2/2)

#### ‚úÖ `start_position_monitoring`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:363-380`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:783-794`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/position_monitor.py:start_monitoring()`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ó–∞–ø—É—Å–∫ –≤ background task
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ auto_actions
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `auto_actions` (optional):
  - `move_to_breakeven_at` (default: 1.0%)
  - `enable_trailing_at` (default: 2.0%)
  - `exit_on_reversal` (default: true)
  - `max_time_in_trade` (default: 12 hours)

---

#### ‚úÖ `stop_position_monitoring`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:382-386`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:796-801`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/position_monitor.py:stop_monitoring()`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ WebSocket
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç

---

### ‚úÖ 3. Auto-Actions (2/2)

#### ‚úÖ `move_to_breakeven`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:392-404`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:804-824`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:686-734`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è symbol –∏ entry_price
- ‚úÖ –†–∞—Å—á–µ—Ç breakeven —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π (+0.1%)
- ‚úÖ –í—ã–∑–æ–≤ `modify_position` —Å –Ω–æ–≤—ã–º SL
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` (required)
- `entry_price` (required)
- `category` (default: linear)

---

#### ‚úÖ `activate_trailing_stop`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
**–§–∞–π–ª:** `mcp_server/full_server.py:406-418`  
**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `mcp_server/full_server.py:826-846`  
**–õ–æ–≥–∏–∫–∞:** `mcp_server/trading_operations.py:736-768`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è trailing_distance (0.1% - 10%)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ category –Ω–µ "spot"
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ positionIdx –∏–∑ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ trailingStop –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` (required)
- `trailing_distance` (required, 0.1% - 10%)
- `category` (default: linear)

---

## üîç –î–ï–¢–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É None –∑–Ω–∞—á–µ–Ω–∏–π

### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç:**
- ‚úÖ Try-except –±–ª–æ–∫–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ Graceful degradation (–≤–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤–º–µ—Å—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–π)

### ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç:**
- ‚úÖ INFO –ª–æ–≥–∏ –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ ERROR –ª–æ–≥–∏ –¥–ª—è –æ—à–∏–±–æ–∫
- ‚úÖ DEBUG –ª–æ–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

---

## üìã –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê

### Trading Operations: 4/4 ‚úÖ
- ‚úÖ `place_order` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ `close_position` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ `modify_position` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ `cancel_order` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Monitoring: 2/2 ‚úÖ
- ‚úÖ `start_position_monitoring` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ `stop_position_monitoring` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Auto-Actions: 2/2 ‚úÖ
- ‚úÖ `move_to_breakeven` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ `activate_trailing_stop` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## ‚úÖ –°–¢–ê–¢–£–°: –í–°–Å –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û

**–í—Å–µ 8 —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Tool –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `call_tool`
- ‚úÖ –õ–æ–≥–∏–∫–∞ –≤ `trading_operations.py` –∏ `position_monitor.py`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ç–æ–≤–æ –∫:
- ‚úÖ Production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-01-12  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ



